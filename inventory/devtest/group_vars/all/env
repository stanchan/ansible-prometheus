---
required_packages: unzip

prometheus_scrape:
  - promhost.chanfx.com:9100

grafana_host: promhost.chanfx.com

grafana_admin_user: admin
grafana_admin_password: password

pushgateway_external_hostname: promhost.chanfx.com
pushgateway_port: 9091

grafana_configuration:
  server:
    http_addr: 0.0.0.0
    http_port: 3000
  paths:
    data: "{{ grafana_data_path }}"
    logs: "{{ grafana_log_path }}"
    plugins: "{{ grafana_plugins_path }}"
    provisioning: "{{ grafana_provisioning_path }}"
  database: "{{ grafana_database }}"
  security:
    admin_user: "{{ grafana_admin_user }}"
    admin_password: "{{ grafana_admin_password }}"

grafana_datasources:
  datasources:
  - name: Prometheus
    type: prometheus
    access: direct
    org_id: 1
    url: http://172.16.1.100:9090
    json_data:
      scrapeInterval: "15s"
    version: 1
    editable: true

crabby_configuration:
  jobs:
    - name: another_page
      type: simple
      url: https://some-other-site.org/some/page
      interval: 10
  storage:
    prometheus:
      host: "{{ pushgateway_external_hostname }}"
      port: "{{ pushgateway_port }}"
      metric-namespace: crabby.crabby-sfc-1
  report-internal-metrics: true
  internal-metrics-gathering-interval: 15

crabby_network: default
crabby_network_type: bridge
